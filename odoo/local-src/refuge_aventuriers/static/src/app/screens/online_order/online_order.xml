<templates id="template" xml:space="preserve">
    <t t-name="refuge_aventuriers.OnlineOrderScreen" owl="1">
        <div class="container mt-5">
            <h1 class="mb-4">Commandes en ligne</h1>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Nom</th>
                        <th>Description</th>
                        <th>Prix</th>
                        <th>Quantité</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr t-foreach="allProducts" t-as="product" t-key="product.id" t-att-data-product-id="product.id">
                        <td><t t-esc="product.name"/></td>
                        <td><t t-esc="product.description_sale"/></td>
                        <td><t t-esc="product.lst_price"/> €</td>
                        <td>
                            <input type="number"
                                   min="0"
                                   t-att-value="productsQuantity[product.id] || 0"
                                   t-on-change="onQuantityChange"
                                   class="form-control"
                                   style="width: 80px;" />
                        </td>
                        <td>
                            <button type="button"
                                    class="btn btn-primary"
                                    t-on-click="addToCart">
                                Ajouter au panier
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </t>
</templates>
